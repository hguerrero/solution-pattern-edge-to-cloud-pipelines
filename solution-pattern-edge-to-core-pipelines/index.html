<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Solution Pattern: Edge to Core Data Pipelines for AI/ML :: Solution Patterns for Cloud Native Architectures</title>
    <link rel="canonical" href="https://redhat-solution-patterns.github.io/solution-patterns/solution-pattern-edge-to-core-pipelines/index.html">
    <link rel="next" href="01-pattern.html#_the_story_behind_this_solution_pattern">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body class="article">
<!-- Google tag (gtag.js) -->

<!--
  replace this with Google tag content
-->

<!-- Google tag (gtag.js) -->
<header class="header">

  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" style="font-size: 20px; color: white"
        href="https://redhat-solution-patterns.github.io/solution-patterns">
        <img src="../_/img/logo.png" height="35px" alt="Solution Patterns">&nbsp; Solution Patterns for Cloud Native Architectures</a>
      <button class="navbar-burger" data-target="topbar-nav">
      </button>
    </div>

    <div class="navbar-item"><span class="navbar-text"
        style="color: white; margin-left: 1rem; margin-right: 1rem;">|</span></div>

    <div class="navbar-item has-dropdown is-hoverable">
      <a class="navbar-link" href="#" style="color: white">Architectures &amp; Patterns</a>
      <div class="navbar-dropdown">
        <a class="navbar-item" href="https://www.redhat.com/architect/portfolio/" target="_blank">Portfolio Architecture&nbsp; </a>
        <a class="navbar-item" href="https://redhat-solution-patterns.github.io/solution-patterns/patterns.html" target="_blank">Solution Patterns </a>
        <a class="navbar-item" href="https://validatedpatterns.io/" target="_blank">Validated Patterns&nbsp;</a>
        <a class="navbar-item" href="https://catalog.redhat.com/solutions" target="_blank">Ecosystem Solutions&nbsp;</a>
      </div>
    </div>

    <div class="navbar-item has-dropdown is-hoverable">
      <a class="navbar-link" href="#" style="color: white">Resources</a>
      <div class="navbar-dropdown">
        <a class="navbar-item" target="_blank" href="https://developers.redhat.com">Red Hat Developers</a>
        <a class="navbar-item" target="_blank" href="https://developers.redhat.com/app-dev-platform">App Dev Platform</a>
        <a class="navbar-item" target="_blank" href="https://www.redhat.com/en/products/application-foundations">Red Hat Application Services</a>
      </div>
    </div>



    <a class="navbar-item" style="color: white" target="_blank" href="https://github.com/redhat-solution-patterns/redhat-solution-patterns.github.io/issues">Feedback</a>

    <a class="navbar-item" style="color: white" target="_blank" href="https://redhat-solution-patterns.github.io/solution-patterns/contributors-guide.html">Contribute</a>

  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="solution-pattern-edge-to-core-pipelines" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html" class=" query-params-link">Edge-to-Core Pipelines: Gather and prepare data for AI/ML</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">1. Home page</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#use-cases">1.1 Use cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-pattern.html#_the_story_behind_this_solution_pattern">1.2 The story behind this solution pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-pattern.html#_the_solution">1.3 The solution</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#_explore_more_solution_patterns">1.4 Explore more solution patterns</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-architecture.html">2. Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-architecture.html#_common_challenges">1. Common challenges</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-architecture.html#tech_stack">2. Technology stack</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-architecture.html#in_depth">3. An in-depth look at the solution&#8217;s architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-architecture.html#_data_acquisition">3.1. Data Acquisition</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-architecture.html#_data_preparation_and_modeling">3.2. Data Preparation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-architecture.html#_application_development_and_delivery">3.3. Application Development</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="02-architecture.html#_edge_ml_inference">3.4. Edge ML Inference</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-architecture.html#more_tech">4. More about the technology stack</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-demo.html">3. See the Solution in Action</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-demo.html#_demonstration">1. Demonstration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-demo.html#_install_the_demonstration">2. Install the demonstration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-demo.html#_walkthrough_guide">3.1. Walkthrough guide</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://redhat-solution-patterns.github.io/">4. Other Red Hat Solution Patterns</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Edge-to-Core Pipelines: Gather and prepare data for AI/ML</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Edge-to-Core Pipelines: Gather and prepare data for AI/ML</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Edge-to-Core Pipelines: Gather and prepare data for AI/ML</a></li>
    <li><a href="index.html">1. Home page</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-solution-patterns/solution-pattern-edge-to-cloud-pipelines/edit/main/documentation/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Solution Pattern: Edge to Core Data Pipelines for AI/ML</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Data is created and required in unusual and challenging locations. Locations such as the International Space Station, connected vehicles, manufacturing floors, ships at sea, or the local pharmacy. Although data has historically been hosted in the central data center or cloud, many crucial choices must now be made at the edge.</p>
</div>
<div class="paragraph">
<p>To reach the human level, the responses and decisions made by machines and applications need to operate in milliseconds or even microseconds. Waiting for more than 100 ms by sending data to the cloud could be the difference between a good or a poor customer experience.</p>
</div>
<div class="paragraph">
<p>When analyzing user data at the edge, such as that from Internet of Things (IoT) devices or industrial machines, the problem becomes dealing with massive amounts of data. Every device generates vast amounts of data every second, which is only useful if it can be stored or analyzed. This data becomes much more useful when used locally and subsequently moved to the open hybrid cloud&#8217;s core data center.</p>
</div>
<div class="paragraph">
<p>This solution pattern provides an architecture solution for scenarios in which edge devices generate image data, which must be collected, processed, and stored at the near edge before being utilized to train AI/ML models at the core data center or cloud.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="anchor" href="#use-cases"></a><a class="link" href="#use-cases">1. Use cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The interaction of AI/ML and Edge Computing occurs in a variety of businesses. For example, in the retail industry, customer behavior and patterns may be used to determine promotions, or in a manufacturing facility, where data inference can help improve processes where machines are failing and products are not up to standard, and so on. The basic premise is that you may collect data and then infer from it in order to make decisions based on it.</p>
</div>
<div class="paragraph">
<p>Some common use cases for edge to cloud data pipelines for artificial intelligence and machine learning include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Preprocessing and feature extraction of data at the edge for improved performance and lower latency</p>
</li>
<li>
<p>Training and inference of machine learning models on data collected at the edge</p>
</li>
<li>
<p>Processing and analyzing sensor data for predictive analytics</p>
</li>
<li>
<p>Streaming data analysis and real-time decision making</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are many potential business drivers for a company to use edge analytics. Some of the most common reasons include wanting to gain insights into customer behavior, improve operational efficiency, or better understand the performance of specific products or services. Additionally, companies may use edge analytics to detect and prevent fraud or to monitor and manage risk.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reduce time to insights -Improve accuracy of insights</p>
</li>
<li>
<p>Enable real-time decision making</p>
</li>
<li>
<p>Faster and more accessible data collection</p>
</li>
<li>
<p>Reduce costs associated with data collection and analysis</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>AI and machine learning can learn from client behavior and assist improve the customer experience. Gain a competitive advantage by automating a large portion of decision making, increasing revenue and decreasing costs.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_story_behind_this_solution_pattern"><a class="anchor" href="#_the_story_behind_this_solution_pattern"></a><a class="link" href="#_the_story_behind_this_solution_pattern">2. The story behind this solution pattern</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Within Artificial Intelligence (AI), edge analytics focuses on inference (predicting), meaning applying a previously trained model to infer a result. Depending on how critical the data is, it will dictate if it needs to be processed in real-time or stored for later analysis. Storage becomes another critical variable depending on costs, availability, or compliance requirements.</p>
</div>
<div class="paragraph">
<p>For Inferencing data by a trained model, we usually deploy applications containing the model on the devices or edge servers close to the site floor. At the same time, other processes select, transform (for data privacy and protection compliance) and transfer the generated raw data to create the datasets that will train the models to the core data center or cloud, where more computing power and specialized processors are available.</p>
</div>
<div class="sect2">
<h3 id="_an_ever_evolving_product_catalogue"><a class="anchor" href="#_an_ever_evolving_product_catalogue"></a><a class="link" href="#_an_ever_evolving_product_catalogue">2.1. An ever-evolving product catalogue</a></h3>
<div class="paragraph">
<p>The solution pattern is supported by the narrative of a retail store that began using various sorts of devices to collect images of their products at store locations in order to offer customers with the most up-to-date information, such as the pricing and promotions linked. They must collect photos, prepare them for transmission to the core for training an AI Vision model, and then deploy it as an application that may be deployed in the remote location server to respond inference queries from consumers and their own kiosks.</p>
</div>
<div class="paragraph">
<p>The challenge ahead in the presented retail use case is the need to continuously update the catalogue of products which customers explore from their smart devices. Products on the store&#8217;s shelves are changing all the time. New products are added on a daily/weekly basis while other products, not selling well, are removed to free up shelf space. Sometimes articles change their packaging and appearance. Also government regulations may, for example, enforce prohibitions on food ingredients, forcing the retirement of certain products.</p>
</div>
<div class="paragraph">
<p><br></p>
</div>
<p align="center">
	<img src="_images/06-product-timeline.png" alt="06 product timeline" width="70%">
</p>
<div class="paragraph">
<p>These fast-paced product catalogue updates require a sophisticated platform capable of absorbing the constant demand to acquire, train, deliver and hot deploy new AI model versions at a fast cadence, with a high degree of automatism and lower levels of human intervention.</p>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_edge_data_processing_with_aiml"><a class="anchor" href="#_enabling_edge_data_processing_with_aiml"></a><a class="link" href="#_enabling_edge_data_processing_with_aiml">2.2. Enabling edge data processing with AI/ML</a></h3>
<div class="paragraph">
<p>You can use the Edge to Core Pipelines pattern to collect, organize, process, and monitor edge data on-site. You can process your data locally, send it to your data center, cloud, or data lake, or load it into on-premises applications. Because you can process and route your data locally, you can choose to send only aggregated data to the cloud, optimizing your bandwidth usage and cloud storage costs.</p>
</div>
<div class="paragraph">
<p>The following is a list of commonly used protocols in edge devices to share data with a gateway or local server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP/HTTPS</p>
</li>
<li>
<p>MQTT</p>
</li>
<li>
<p>AMQP</p>
</li>
<li>
<p>RTSP</p>
</li>
<li>
<p>WebRTC</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The solution pattern demonstration employs REST HTTP clients and MQTT over websockets. However, as previously stated, the implementation framework provides out-of-the-box access to a large number of protocols while also allowing teams to implement proprietary ones.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_alternatives"><a class="anchor" href="#_alternatives"></a><a class="link" href="#_alternatives">2.3. Alternatives</a></h3>
<div class="paragraph">
<p>There are a few current alternatives to edge analytics, but they are losing traction for a few reasons. An option is to use cloud-based analytics, which requires a constant internet connection and can be expensive. Another is using a data warehouse, which can be slow and difficult to set up on the edge.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_solution"><a class="anchor" href="#_the_solution"></a><a class="link" href="#_the_solution">3. The Solution</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This solution pattern is divided into four major stages that cover various aspects of the end-to-end AI/ML lifecycle:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Data Acquisition</p>
</li>
<li>
<p>Data Preparation &amp; Modelling</p>
</li>
<li>
<p>Application Development &amp; Delivery</p>
</li>
<li>
<p>Edge/NearEdge ML Inferencing</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="sect2">
<h3 id="_data_acquisition"><a class="anchor" href="#_data_acquisition"></a><a class="link" href="#_data_acquisition">3.1. Data Acquisition</a></h3>
<div class="paragraph">
<p>The first stage begins with the acquisition of images. For example, the check out kiosks can take pictures of every item that the cashier scans. Each image is then delivered over MQTT to a message broker, who passes it on to the processing application, which prepares the data for transmission.</p>
</div>
<div class="paragraph">
<p>To send data from the edge to the core, depending on the use case, we can use an Apache Kafka topic for example, to allow other streaming applications perform additional parallel processing by benefiting from the platform&#8217;s streaming and repeatability. In this image-based example however we find preferable to move images via traditional HTTP (still is data streaming).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>Kafka</em> is usually not the right technology to store and process large payloads (images, videos, big files, etc.) as a whole. It can however complement other strategies to integrate, coordinate, orchestrate or preprocess the data, for example.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_data_preparation_modelling"><a class="anchor" href="#_data_preparation_modelling"></a><a class="link" href="#_data_preparation_modelling">3.2. Data Preparation &amp; Modelling</a></h3>
<div class="paragraph">
<p>Once the data is available in the core data center or in the cloud, the imagery is cleaned up by the processing application to remove sensitive or private info and resized for management purposes. Then enterprise data analysts can utilize OpenShift Data Science to build a model that enables the application to detect objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_application_development_delivery"><a class="anchor" href="#_application_development_delivery"></a><a class="link" href="#_application_development_delivery">3.3. Application Development &amp; Delivery</a></h3>
<div class="paragraph">
<p>Once trained, a model can be saved as part of an application or service that provides an API for inferencing. This application must be built and delivered as part of the organization&#8217;s CI/CD process to ensure that security policies are followed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_edgenearedge_ml_inferencing"><a class="anchor" href="#_edgenearedge_ml_inferencing"></a><a class="link" href="#_edgenearedge_ml_inferencing">3.4. Edge/NearEdge ML inferencing</a></h3>
<div class="paragraph">
<p>Finally, once the application is deployed at the edge (or near edge), some of the event-driven architecture can be reused for customers. Consumer devices use a mobile application that enables users to shoot photos with their phones and subsequently upload those photos to the event broker. A processing service retrieves the image from the queue and transmits it to the inference service, which returns the information in the image. If, for whatever reason, the image cannot be detected. It will save the data locally in order to include it to the future set of data that will be transferred to the core for further model improvement.</p>
</div>
<div class="paragraph">
<p>See below a simplified representation of the solution:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/01-solution-overview.png" alt="01 solution overview">
</div>
<div class="title">Figure 1. Simplified Solution Overview.</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Please see the <a href="02-architecture.html" class="xref page">Architecture</a> section for more extensive architecture diagrams.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_explore_more_solution_patterns"><a class="anchor" href="#_explore_more_solution_patterns"></a><a class="link" href="#_explore_more_solution_patterns">4. Explore more solution patterns</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>It&#8217;s time to boost your cloud-native application architectural design with bleeding-edge technology backed by open-source software. Explore the use cases and learn recommended solutions for each of these challenges:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Application Modernization</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://redhat-solution-patterns.github.io/solution-pattern-modernization-cdc/">Adopting Change Data Capture for stack modernization</a></p>
</li>
<li>
<p><a href="https://redhat-solution-patterns.github.io/solution-pattern-enhancing-applications">Enhancing Applications with Application Services</a></p>
</li>
<li>
<p><a href="https://redhat-solution-patterns.github.io/solution-pattern-apim-servicemesh/comprehensive-service-architecture">Comprehensive Service Architecture with API Management and Service Mesh</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>DevOps</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://redhat-solution-patterns.github.io/solution-pattern-multicloud-gitops-odf/">MultiCloud GitOps with ArgoCD, OpenShift Advanced Cluster Management and OpenShift Data Foundation</a></p>
</li>
<li>
<p><a href="https://redhat-solution-patterns.github.io/solution-pattern-instant-multicloud/solution-pattern-instant-multicloud/index.html">Instant Multi Cloud - Openshift Everywhere</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Managed Openshift</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://redhat-solution-patterns.github.io/solution-pattern-modernize-with-rosa/solution-pattern-rosa/index.html">Accelerate time to value with Red Hat Openshift Service on AWS</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Intelligent Applications</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://redhat-solution-patterns.github.io/solution-pattern-sentiment-analysis">Building Sentiment Analysis with AIML and Kafka</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="next"><a href="01-pattern.html#_the_story_behind_this_solution_pattern" class="query-params-link">1.2 The story behind this solution pattern</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <img
          src="../_/img/app-services-logo.png" height="40px" alt="Cloud Native Architecture Solution Patterns"  href="https://redhat.com" ></a>
</footer><script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
